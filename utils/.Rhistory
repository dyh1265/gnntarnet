load("C:/Users/dyh/Dropbox/Studies/PhD/Causal-Inference-Overview/utils/insurance.rda")
View(bn)
View(bn)
data = rbn(bn, 800)
library(bnlearn)
arc = arcs(bn)
arc
insurance <- readRDS("C:/Users/dyh/Dropbox/Studies/PhD/Causal-Inference-Overview/utils/insurance.rds")
load("C:/Users/dyh/Dropbox/Studies/PhD/Causal-Inference-Overview/utils/insurance.rda")
View(insurance)
View(insurance)
library(bnlearn)
arc = arcs(bn)
my_range = 1:100
colname = colnames(data)
colname
colname = colnames(data)
data = rbn(bn, 800)
data <- sapply(data, unclass) - 1
colname = colnames(data)
colname
arc
View(arc)
View(bn)
i = 0
data = rbn(bn, 8000)
data <- sapply(data, unclass) - 1
colname = colnames(data)
len = length(arc) / 2
nodes = arc[1:len]
neighbours = arc[53:104]
nodes = match(nodes, colname) - 1
neighbours = match(neighbours, colname) - 1
graph <- data.frame(neighbours, nodes)
i = 1
data = rbn(bn, 8000)
data <- sapply(data, unclass) - 1
colname = colnames(data)
len = length(arc) / 2
nodes = arc[1:len]
neighbours = arc[53:104]
nodes = match(nodes, colname) - 1
neighbours = match(neighbours, colname) - 1
graph <- data.frame(neighbours, nodes)
write.csv(data, paste("../INSURANCE/insurance_", i-1, ".csv", sep = ""), row.names = FALSE, col.names=TRUE)
write.table(graph, paste("../graphs/insurance/graph_", i-1, ".csv", sep = ""), sep=",", row.names = FALSE, col.names=FALSE)
View(bn)
pred = predict(dfitted, node = "GoodStudent", data = data, method = "parents")
pred = predict(bn, node = "GoodStudent", data = data, method = "parents")
data.frame(data)
pred = predict(bn, node = "GoodStudent", data = data.frame(data), method = "parents")
mydata = data.frame(data)
df = subset(mydata, select = -c("GoodStudent") )
df = subset(mydata, select = "GoodStudent" )
View(df)
df = subset(mydata, select = -"GoodStudent" )
print(mydata[,!names(mydata) %in%
c(GoodStudent)])
names(mydata)
print(mydata[,!names(mydata) %in% "GoodStudent"])
mydata = mydata[,!names(mydata) %in% "GoodStudent"]
pred = predict(bn, node = "GoodStudent", data = data.frame(data), method = "parents")
class(mydata$Accident)
class(as.factor(mydata$Accident))
mydata = as.factor(mydata[,!names(mydata) %in% "GoodStudent"])
pred = predict(bn, node = "GoodStudent", data = data.frame(data), method = "parents")
pred = predict(bn, node = "GoodStudent", data = mydata, method = "parents")
mydata = data.frame(as.factor(data))
mydata = mydata[,!names(mydata) %in% "GoodStudent"]
pred = predict(bn, node = "GoodStudent", data = data.frame(data), method = "parents")
pred = predict(bn, node = "GoodStudent", data = data.frame(mydata), method = "parents")
i = 1
data = rbn(bn, 8000)
data <- sapply(data, unclass) - 1
colname = colnames(data)
len = length(arc) / 2
nodes = arc[1:len]
neighbours = arc[53:104]
nodes = match(nodes, colname) - 1
neighbours = match(neighbours, colname) - 1
graph <- data.frame(neighbours, nodes)
X=t(amat(bn))
which(X!=0,arr.ind = T)- 1
mydata = data.frame(as.factor(data))
mydata = mydata[,!names(mydata) %in% "GoodStudent"]
pred = predict(bn, node = "GoodStudent", data = data.frame(mydata), method = "parents")
mydata = data.frame(as.factor(data))
# mydata = mydata[,!names(mydata) %in% "GoodStudent"]
pred = predict(bn, node = "GoodStudent", data = data.frame(mydata), method = "parents")
load("C:/Users/dyh/Dropbox/Studies/PhD/Causal-Inference-Overview/utils/insurance.rda")
library(bnlearn)
arc = arcs(bn)
my_range = 1:
for (i in my_range) {
i = 1
data = rbn(bn, 8000)
data <- sapply(data, unclass) - 1
colname = colnames(data)
len = length(arc) / 2
nodes = arc[1:len]
neighbours = arc[53:104]
nodes = match(nodes, colname) - 1
neighbours = match(neighbours, colname) - 1
graph <- data.frame(neighbours, nodes)
write.csv(data, paste("../INSURANCE/insurance_", i-1, ".csv", sep = ""), row.names = FALSE, col.names=TRUE)
write.table(graph, paste("../graphs/insurance/graph_", i-1, ".csv", sep = ""), sep=",", row.names = FALSE, col.names=FALSE)
}
i = 1
data = rbn(bn, 8000)
data <- sapply(data, unclass) - 1
colname = colnames(data)
len = length(arc) / 2
nodes = arc[1:len]
neighbours = arc[53:104]
nodes = match(nodes, colname) - 1
neighbours = match(neighbours, colname) - 1
graph <- data.frame(neighbours, nodes)
write.csv(data, paste("../INSURANCE/insurance_", i-1, ".csv", sep = ""), row.names = FALSE, col.names=TRUE)
write.table(graph, paste("../graphs/insurance/graph_", i-1, ".csv", sep = ""), sep=",", row.names = FALSE, col.names=FALSE)
X=t(amat(bn))
which(X!=0,arr.ind = T)- 1
mydata = data.frame(as.factor(data))
# mydata = mydata[,!names(mydata) %in% "GoodStudent"]
pred = predict(bn, node = "GoodStudent", data = data.frame(mydata), method = "parents")
data = rbn(bn, 800)
data
"
"
# mydata = mydata[,!names(mydata) %in% "GoodStudent"]
pred = predict(bn, node = "GoodStudent", data = data.frame(mydata), method = "parents")
View(data)
# mydata = mydata[,!names(mydata) %in% "GoodStudent"]
pred = predict(bn, node = "GoodStudent", data = data.frame(mydata))
View(bn)
data$CarValue
load("~/Dropbox/Studies/PhD/Causal-Inference-Overview/utils/insurance.rda")
arc = arcs(bn)
library(bnlearn)
arc = arcs(bn)
load("~/Dropbox/Studies/PhD/Causal-Inference-Overview/utils/survey.rda")
load("~/Dropbox/Studies/PhD/Causal-Inference-Overview/utils/survey.rda")
View(bn)
View(bn)
arc = arcs(bn)
arc
